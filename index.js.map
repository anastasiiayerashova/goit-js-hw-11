{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\ndocument.head.insertAdjacentHTML(\"beforeend\", `<link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n<link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\n<link href=\"https://fonts.googleapis.com/css2?family=Montserrat:ital@0;1&display=swap\" rel=\"stylesheet\"><link href=\"https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,500;1,500&display=swap\" rel=\"stylesheet\">`)\n\nexport const BASE_URL = \"https://pixabay.com/api/\";\nexport const API_KEY = \"46106680-1f6bf9cc8c5ebc2359fb269e0\";\n\nconst ul = document.querySelector(\".gallery\");\nconst btn = document.querySelector(\".btn\");\nconst form = document.querySelector(\".container\");\nconst loader = document.querySelector(\".div-loader\");\n\n\nexport function fetchData(searchQuery) {\nconst urlParams = new URLSearchParams({ q: searchQuery, image_type: \"photo\", orientation: \"horizontal\", safesearch: \"true\" });\n\nreturn fetch(`${BASE_URL}?key=${API_KEY}&${urlParams}`).then(response => {\n        if (!response.ok) {\n            throw new Error('Sorry, there are no images matching your search query. Please try again!');\n        }\n        return response.json();\n    })\n}\n\n\nfunction showErrorMessage(message) {\n    iziToast.error({\n        title: 'Error',\n        message,\n    });\n}\n\nfunction toggleLoader(show) {\n    loader.style.visibility = show ? \"visible\" : \"hidden\";\n}\n\nfunction checkForm(event) {\n    event.preventDefault();\n    \n    const form = event.currentTarget;\n    const searchQuery = form.elements.query.value.trim();\n\n    if ( !searchQuery) {\n        showErrorMessage('Sorry, there are no images matching your search query. Please try again!');\n        return;\n    }\n\n    ul.innerHTML = \"\";\n    toggleLoader(true);\n    btn.disabled = true;\n  \n\n    fetchData(searchQuery).then(data => {\n       if (data.hits.length === 0) {\n           showErrorMessage('Sorry, there are no images matching your search query. Please try again!');\n            return;\n        }\n \n        const images = data.hits;\n        const imagesMarkup = images.map(renderMarkup).join(\"\");\n        ul.insertAdjacentHTML(\"beforeend\", imagesMarkup);\n        lightbox.refresh();\n        form.reset();\n    })\n        \n        .catch(error => {\n        showErrorMessage(error.message);\n        })\n        \n        .finally(() => {\n        toggleLoader(false)\n        btn.disabled = false;\n    });\n  \n    function renderMarkup({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) {\n        return `<li class=\"image\">\n        <a class = \"gallery-link\" href = \"${webformatURL}\">  \n        <img src = \"${largeImageURL}\" alt = \"${tags}\" />\n        </a>\n        <div class = \"card-body\">   \n          <p class=\"text\">Likes <span class = \"value\">${likes}</span></p>\n          <p class=\"text\">Views <span class = \"value\">${views}</span></p>\n          <p class=\"text\">Comments <span class = \"value\">${comments}</span></p>\n          <p class=\"text\">Downloads <span class = \"value\">${downloads}</span></p>\n          </div>\n        </li>`;\n \n    }\n}\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',        \n    captionPosition: 'bottom',  \n    captionDelay: 250, \n});\n\nform.addEventListener(\"submit\", checkForm);"],"names":["BASE_URL","API_KEY","ul","btn","form","loader","fetchData","searchQuery","urlParams","response","showErrorMessage","message","iziToast","toggleLoader","show","checkForm","event","data","imagesMarkup","renderMarkup","lightbox","error","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox"],"mappings":"6vBAKA,SAAS,KAAK,mBAAmB,YAAa;AAAA;AAAA,8NAEgL,EAEvN,MAAMA,EAAW,2BACXC,EAAU,qCAEjBC,EAAK,SAAS,cAAc,UAAU,EACtCC,EAAM,SAAS,cAAc,MAAM,EACnCC,EAAO,SAAS,cAAc,YAAY,EAC1CC,EAAS,SAAS,cAAc,aAAa,EAG5C,SAASC,EAAUC,EAAa,CACvC,MAAMC,EAAY,IAAI,gBAAgB,CAAE,EAAGD,EAAa,WAAY,QAAS,YAAa,aAAc,WAAY,MAAQ,CAAA,EAE5H,OAAO,MAAM,GAAGP,CAAQ,QAAQC,CAAO,IAAIO,CAAS,EAAE,EAAE,KAAKC,GAAY,CACjE,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,0EAA0E,EAE9F,OAAOA,EAAS,MACxB,CAAK,CACL,CAGA,SAASC,EAAiBC,EAAS,CAC/BC,EAAS,MAAM,CACX,MAAO,QACP,QAAAD,CACR,CAAK,CACL,CAEA,SAASE,EAAaC,EAAM,CACxBT,EAAO,MAAM,WAAaS,EAAO,UAAY,QACjD,CAEA,SAASC,EAAUC,EAAO,CACtBA,EAAM,eAAc,EAEpB,MAAMZ,EAAOY,EAAM,cACbT,EAAcH,EAAK,SAAS,MAAM,MAAM,OAE9C,GAAK,CAACG,EAAa,CACfG,EAAiB,0EAA0E,EAC3F,MACH,CAEDR,EAAG,UAAY,GACfW,EAAa,EAAI,EACjBV,EAAI,SAAW,GAGfG,EAAUC,CAAW,EAAE,KAAKU,GAAQ,CACjC,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBP,EAAiB,0EAA0E,EAC1F,MACH,CAGD,MAAMQ,EADSD,EAAK,KACQ,IAAIE,CAAY,EAAE,KAAK,EAAE,EACrDjB,EAAG,mBAAmB,YAAagB,CAAY,EAC/CE,EAAS,QAAO,EAChBhB,EAAK,MAAK,CAClB,CAAK,EAEI,MAAMiB,GAAS,CAChBX,EAAiBW,EAAM,OAAO,CACtC,CAAS,EAEA,QAAQ,IAAM,CACfR,EAAa,EAAK,EAClBV,EAAI,SAAW,EACvB,CAAK,EAED,SAASgB,EAAa,CAAC,aAAAG,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAG,CAC1F,MAAO;AAAA,4CAC6BN,CAAY;AAAA,sBAClCC,CAAa,YAAYC,CAAI;AAAA;AAAA;AAAA,wDAGKC,CAAK;AAAA,wDACLC,CAAK;AAAA,2DACFC,CAAQ;AAAA,4DACPC,CAAS;AAAA;AAAA,cAIhE,CACL,CAEA,MAAMR,EAAW,IAAIS,EAAe,aAAc,CAC9C,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,CAAC,EAEDzB,EAAK,iBAAiB,SAAUW,CAAS"}